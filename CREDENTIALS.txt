================================================================================
  PERUHCE - CREDENCIALES DEL SISTEMA
  Generado: 2025-10-20
  CONFIDENCIAL - MANTENER SEGURO
================================================================================

IMPORTANTE:
- Estas credenciales fueron generadas automáticamente con seguridad criptográfica
- Todas las contraseñas tienen 32 caracteres alfanuméricos aleatorios
- Están almacenadas como Docker Secrets en ./secrets/
- NUNCA compartir este archivo por canales inseguros
- Hacer backup seguro en un gestor de contraseñas (1Password, Bitwarden, etc.)

================================================================================
1. KEYCLOAK (Single Sign-On / Autenticación)
================================================================================

Usuario Admin: admin
Contraseña Admin: wbkZMtfLVNzFWEXbOiOa6Att3yUG1C3B

Base de Datos PostgreSQL:
  - Host: keycloak-db
  - Puerto: 5432
  - Usuario: keycloak
  - Contraseña: MnudRFsXOtL8BnTbwlKZLxekkgnykUiW
  - Base de Datos: keycloak

Acceso Web: http://localhost:8180
Archivo Secret: ./secrets/keycloak_admin_password.txt
Archivo Secret DB: ./secrets/keycloak_db_password.txt

================================================================================
2. MYSQL / MARIADB (Base de Datos Principal OpenMRS)
================================================================================

Usuario Root:
  - Usuario: root
  - Contraseña: MujhJpztxYvabsEqwvNFu4QLWtmkgPpi
  - Archivo Secret: ./secrets/mysql_root_password.txt

Usuario OpenMRS:
  - Usuario: openmrs
  - Contraseña: XtfUGHVcm6f9AK0P0QnjHY4oTSYMWKhN
  - Base de Datos: openmrs
  - Archivo Secret: ./secrets/mysql_openmrs_password.txt

Usuario Replicación:
  - Usuario: openmrs_repl
  - Contraseña: LuefPN8e9TU7vgciahey0rIDcqE8Usk0
  - Archivo Secret: ./secrets/mysql_repl_password.txt

Usuario Backup:
  - Usuario: openmrs_backup
  - Contraseña: YQBh0fHCWkJbgo1WBK3ixX46A7G5hcCJ
  - Archivo Secret: ./secrets/mysql_backup_password.txt

Servidores:
  - Master: peruHCE-db (localhost:3306)
  - Replica: peruHCE-db-replic (localhost:3307)

================================================================================
3. GRAFANA (Monitoreo y Dashboards)
================================================================================

Usuario Admin: admin
Contraseña: eCHV1kOvUQAK7B69snYwyKXUZJZ6LXLu

Acceso Web: http://localhost:3001
Archivo Secret: ./secrets/grafana_admin_password.txt

Datasources configurados:
  - Prometheus (métricas): http://prometheus:9090
  - Loki (logs): http://loki:3100

================================================================================
4. PI-HOLE (DNS / Bloqueador de Ads)
================================================================================

Contraseña Web UI: nxD0ydnhElGJ0tCdLMcnTAKdCbyRaJ7w

Acceso Web: http://localhost:81/admin
Archivo Secret: ./secrets/pihole_password.txt

Configuración DNS:
  - Puerto DNS: 53 (TCP/UDP)
  - Red Hospital: 192.168.1.0/24 (configurable en .env)
  - Dominio local: hospital.local

================================================================================
5. FUA GENERATOR (Generador de Formatos Únicos de Atención)
================================================================================

Token API: mXyr8pkiJA7WD3Lt4k5WJVrgSURxlDMZ
Archivo Secret: ./secrets/fua_token.txt

Base de Datos PostgreSQL:
  - Host: fua-generator-db
  - Puerto: 5432 (interno) / 5433 (externo)
  - Usuario: fuagenerator
  - Contraseña: SVuTppVpOb9OfbrJkQszTB0GXxgVXmfT
  - Base de Datos: fuagenerator
  - Archivo Secret: ./secrets/fua_db_password.txt

Acceso Web: http://localhost:3333

================================================================================
6. OPENMRS (Sistema de Registros Médicos)
================================================================================

Acceso Web Frontend: http://localhost
Acceso Web Backend: http://localhost:8080/openmrs

Credenciales por defecto OpenMRS (estas se configuran en primer inicio):
  - Usuario: admin
  - Contraseña: (se define en primer inicio - recomendar mínimo 16 caracteres)

NOTA: OpenMRS usa autenticación a través de Keycloak (SSO habilitado)
      Los usuarios se gestionan desde Keycloak

================================================================================
7. ORTHANC (Servidor DICOM / PACS)
================================================================================

Acceso Web: http://localhost:8042
Acceso DICOM: localhost:4242

Credenciales por defecto:
  - Usuario: orthanc
  - Contraseña: orthanc

ACCIÓN REQUERIDA: Cambiar credenciales en orthanc.json después del despliegue

================================================================================
8. OHIF VIEWER (Visor de Imágenes DICOM)
================================================================================

Acceso Web: http://localhost:3000

Configurado para conectarse automáticamente a Orthanc
Sin autenticación propia (usa la de Orthanc/Keycloak según configuración)

================================================================================
9. PROMETHEUS (Métricas del Sistema)
================================================================================

Acceso Web: http://localhost:9090

Sin autenticación (red interna)
Para producción: habilitar autenticación básica

================================================================================
10. LOKI (Agregación de Logs)
================================================================================

Acceso API: http://localhost:3100

Sin autenticación (red interna)
Acceso desde Grafana configurado automáticamente

================================================================================
RESUMEN DE PUERTOS EXTERNOS
================================================================================

Servicio              | Puerto    | URL
---------------------|-----------|----------------------------------------
OpenMRS Frontend     | 80        | http://localhost
OpenMRS Backend      | 8080      | http://localhost:8080/openmrs
Keycloak             | 8180      | http://localhost:8180
Pi-hole Web UI       | 81        | http://localhost:81/admin
Pi-hole HTTPS        | 444       | https://localhost:444
MariaDB Master       | 3306      | localhost:3306
MariaDB Replica      | 3307      | localhost:3307
Keycloak DB          | 5432      | localhost:5432
FUA Generator        | 3333      | http://localhost:3333
FUA Generator DB     | 5433      | localhost:5433
Orthanc Web          | 8042      | http://localhost:8042
Orthanc DICOM        | 4242      | localhost:4242
OHIF Viewer          | 3000      | http://localhost:3000
Grafana              | 3001      | http://localhost:3001
Prometheus           | 9090      | http://localhost:9090
Alloy (Logs)         | 12345     | http://localhost:12345

================================================================================
ARQUITECTURA DE REDES
================================================================================

El sistema usa 8 redes Docker segmentadas:

1. frontend-network (172.20.0.0/24) - Servicios públicos
2. backend-network (172.21.0.0/24) - Aplicaciones backend
3. database-network (172.22.0.0/24, INTERNAL) - Bases de datos
4. auth-network (172.23.0.0/24) - Autenticación Keycloak
5. dicom-network (172.24.0.0/24) - Imágenes médicas
6. monitoring-network (172.25.0.0/24) - Monitoreo
7. management-network (172.26.0.0/24) - Administración
8. services-network (172.27.0.0/24) - Servicios auxiliares

NOTA: database-network es INTERNA (no accesible desde el host directamente)

================================================================================
ROTACIÓN DE CREDENCIALES
================================================================================

Para generar nuevas contraseñas:

1. Ejecutar: ./scripts/security/generate-secrets.sh
2. Reiniciar servicios: docker compose restart <servicio>
3. Para bases de datos: requiere actualización manual usando ALTER USER

Frecuencia recomendada: Cada 90 días mínimo

================================================================================
CUMPLIMIENTO Y SEGURIDAD
================================================================================

Estado actual de compliance:
- Contraseñas hardcodeadas: ELIMINADAS ✓
- Sistema de secretos: IMPLEMENTADO ✓
- Segmentación de red: COMPLETA ✓
- Backups automatizados: CONFIGURADO ✓

Pendiente para producción:
- [ ] SSL/TLS con certificados válidos
- [ ] Encriptación de datos en reposo
- [ ] Auditoría de logs habilitada
- [ ] Firewall y políticas de red
- [ ] VPN para acceso remoto
- [ ] 2FA para usuarios administrativos

Ver: PRODUCTION-READINESS-AUDIT.md para detalles completos

================================================================================
CONTACTO Y SOPORTE
================================================================================

Para asistencia técnica:
- Documentación: ./docs/
- Changelog: ./CHANGELOG-2025.md
- Arquitectura de Red: ./NETWORK-ARCHITECTURE.md
- Scripts de utilidad: ./scripts/

================================================================================
FIN DEL DOCUMENTO
================================================================================
